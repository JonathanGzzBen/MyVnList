This page will document models used by the project.

# Model Guidelines

- Properties will have five columns: Property, Flag, Type, null?, Description.
- Property names are written in PascalCase.
- Type is specified using built-in C# types.

# VisualNovel

| Property         | Flag      |                       Type                        | null? | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| :--------------- | :-------- | :-----------------------------------------------: | :---: | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Id               | -         |                        int                        | false | Visual novel ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Title            | Basic     |                      string                       | false | Main title                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Original         | Basic     |                      string                       | true  | Original/official title.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Released         | Basic     |                     DateTime                      | true  | Date of the first release.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Languages        | Basic     |               ICollection\<string>                | false | Can be an empty array when nothing has been released yet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| OriginalLanguage | Basic     |               ICollection\<string>                | false | Original language of the VN. Always contains a single language,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Platforms        | Basic     |               ICollection\<string>                | false | Can be an empty array when unknown or nothing has been released yet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Aliases          | Details   |               ICollection\<string>                | true  | Aliases.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Length           | Details   |                        int                        | true  | Length of the game, 1-5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Description      | Details   |                      string                       | true  | Description of the VN.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Links            | Details   |               ICollection\<string>                | true  | Contains related links such as wiki, store page, etc.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Image            | Details   |                  [Image](#Image)                  | true  | Image.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Anime            | Anime     |                     object[]                      | false | (Possibly empty) list of anime related to the VN, each object has the following members:"id", integer, AniDB ID"ann_id", integer, AnimeNewsNetwork ID"nfo_id", string, AnimeNfo ID"title_romaji", string"title_kanji", string"year", integer, year in which the anime was aired"type", stringAll members except the "id" can be null. Note that this data is courtesy of AniDB, and may not reflect the latest state of their information due to caching.                                                                                           |
| Relations        | Relations |                     object[]                      | false | (Possibly empty) list of related visual novels, each object has the following members:"id", integer"relation", string, relation to the VN"title", string, (romaji) title"original", string, original/official title, can be null"official", boolean.                                                                                                                                                                                                                                                                                                |
| Tags             | Tags      | ICollection\<[TagRelationship](#TagRelationship)> | true  | List of tags linked to this VN. Each tag is represented as an array with three elements: tag id (integer),score (number between 0 and 3),spoiler level (integer, 0=none, 1=minor, 2=major)Only tags with a positive score are included. Note that this list may be relatively large - more than 50 tags for a VN is quite possible.General information for each tag is available in the tags dump. Keep in mind that it is possible that a tag has only recently been added and is not available in the dump yet, though this doesn't happen often. |
| Popularity       | Stats     |                        int                        | false | Between 0 (unpopular) and 100 (most popular).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Rating           | Stats     |                        int                        | false | Bayesian rating, between 1 and 10.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Votecount        | Stats     |                        int                        | false | Number of votes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Screens          | Screens   |                     object[]                      | false | (Possibly empty) list of screenshots, each object has the following members:"image", string, URL of the full-size screenshot"rid", integer, release ID"nsfw", boolean (depecated)"flagging", object, same format as "image_flagging" field mentioned above"height", integer, height of the full-size screenshot"width", integer, width of the full-size screenshot                                                                                                                                                                                  |
| Staff            | Staff     |                     object[]                      | false | (Possibly empty) list of staff related to the VN, each object has the following members:"sid", integer, staff ID"aid", integer, alias ID"name", string"original", string, possibly null"role", string"note", string, possibly null                                                                                                                                                                                                                                                                                                                  |

# TagRelationship

| Property     |                     Type                      | null? | Description                   |
| :----------- | :-------------------------------------------: | :---: | :---------------------------- |
| TagId        |                      int                      | false | [Tag](#Tag) Id.               |
| Score        | [TagRelationshipScore](#TagRelationshipScore) | false | How related it is to the tag. |
| SpoilerLevel |         [SpoilerLevel](#SpoilerLevel)         | false | Spoiler level.                |

# Image

| Property      |              Type              | null? | Description     |
| :------------ | :----------------------------: | :---: | :-------------- |
| ImageId       |              int               | false | Image Id.       |
| ImageUrl      |             string             | false | Image URL.      |
| ImageFlagging | [ImageFlagging](#ImageFlaging) | false | Image flagging. |

# ImageFlagging

| Property      | Type                            | null? | Description     |
| :------------ | :------------------------------ | :---: | :-------------- |
| SexualContent | [SexualContent](#SexualContent) | false | Sexual content. |
| Violence      | [Violence](#Violence)           | false | Violence.       |

# Enums

## TagRelationshipScore

| Value  | Description         |
| :----- | :------------------ |
| None   | Not related at all. |
| Middle | Somewhat related.   |
| Strong | Strongly related.   |

## SexualContent

| Value      | Description                                              |
| :--------- | :------------------------------------------------------- |
| Safe       | Do not depict anything sexualised.                       |
| Suggestive | Sexualised but not enough to be considered pornographic. |
| Explicit   | Considered pornographic.                                 |

## Violence

| Value   | Description                                                                                      |
| :------ | :----------------------------------------------------------------------------------------------- |
| Tame    | Either contains no violence or it is very mild.                                                  |
| Violent | Consider the presence of blood or non-comedic, active fight scenes.                              |
| Brutal  | Excessive amount of blood, torture, dismemberment. Violence with irreversible, crippling damage. |

## SpoilerLevel

| Value | Description    |
| :---- | :------------- |
| None  | No spoiler.    |
| Minor | Minor spoiler. |
| Major | Major spoiler  |

# Release

| Property   | Flag      |       Type        | null? | Description                                                                                                                                                                                                                                                                                                                               |
| :--------- | :-------- | :---------------: | :---: | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Id         | -         |        int        | false | Release ID                                                                                                                                                                                                                                                                                                                                |
| Title      | Basic     |      string       | false | Release title (romaji)                                                                                                                                                                                                                                                                                                                    |
| Original   | Basic     |      string       | true  | Original/official title of the release.                                                                                                                                                                                                                                                                                                   |
| Released   | Basic     |     DateTime      | true  | Release date                                                                                                                                                                                                                                                                                                                              |
| Type       | Basic     |      string       | false | "complete", "partial" or "trial"                                                                                                                                                                                                                                                                                                          |
| Patch      | Basic     |       bool        | false |                                                                                                                                                                                                                                                                                                                                           |
| Freeware   | Basic     |       bool        | false |                                                                                                                                                                                                                                                                                                                                           |
| Doujin     | Basic     |       bool        | false |                                                                                                                                                                                                                                                                                                                                           |
| Languages  | Basic     |     string[]      | false |                                                                                                                                                                                                                                                                                                                                           |
| Website    | Details   |      string       | true  | Official website URL                                                                                                                                                                                                                                                                                                                      |
| Notes      | Details   |      string       | true  | Random notes, can contain formatting codes as described in d9#3                                                                                                                                                                                                                                                                           |
| Minage     | Details   |        int        | true  | Age rating, 0 = all ages.                                                                                                                                                                                                                                                                                                                 |
| Gtin       | Details   |      string       | true  | JAN/UPC/EAN code. This is actually an integer, but formatted as a string to avoid an overflow on 32bit platforms.                                                                                                                                                                                                                         |
| Catalog    | Details   |      string       | true  | Catalog number.                                                                                                                                                                                                                                                                                                                           |
| Platforms  | Details   |     string[]      | false | Empty array when platform is unknown.                                                                                                                                                                                                                                                                                                     |
| Media      | Details   |     object[]      | false | Objects have the following two members: "medium", string "qty", integer, the quantity. null when it is not applicable for the medium. An empty array is returned when the media are unknown.                                                                                                                                              |
| Resolution | Details   |      string       | true  |                                                                                                                                                                                                                                                                                                                                           |
| Voiced     | Details   |        int        | true  | 1 = Not voiced, 2 = Only ero scenes voiced, 3 = Partially voiced, 4 = Fully voiced                                                                                                                                                                                                                                                        |
| Animation  | Details   | array of integers | false | The array has two integer members, the first one indicating the story animations, the second the ero scene animations. Both members can be null if unknown or not applicable. When not null, the number indicates the following: 1 = No animations, 2 = Simple animations, 3 = Some fully animated scenes, 4 = All scenes fully animated. |
| Vn         | Vn        |     object[]      | false | Array of visual novels linked to this release. Objects have the following members: id, title and original. These are the same as the members of the "get vn" command.                                                                                                                                                                     |
| Producers  | Producers |     object[]      | false | (Possibly empty) list of producers involved in this release. Objects have the following members: "id", integer "developer", boolean, "publisher", boolean, "name", string, romaji name "original", string, official/original name, can be null "type", string, producer type                                                              |

# Producer

| Property    | Flag      |   Type   | null? | Description                                                                                                                                                                                                                                                   |
| :---------- | :-------- | :------: | :---: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Id          | -         |   int    | false | Producer ID                                                                                                                                                                                                                                                   |
| Name        | Basic     |  string  | false | (romaji) producer name                                                                                                                                                                                                                                        |
| Original    | Basic     |  string  | true  | Original/official name                                                                                                                                                                                                                                        |
| Type        | Basic     |  string  | false | Producer type                                                                                                                                                                                                                                                 |
| Language    | Basic     |  string  | false | Primary language                                                                                                                                                                                                                                              |
| Links       | Details   |  object  | false | External links, object has the following members: "homepage", official homepage,"wikipedia", string, name of the related article on the English Wikipedia (deprecated, use wikidata instead)."wikidata", string, Wikidata identifier.All members can be null. |
| Aliases     | Details   |  string  | true  | List of alternative names, separated by a newline                                                                                                                                                                                                             |
| Description | Details   |  string  | true  | Description/notes of the producer, can contain formatting codes as described in d9#3                                                                                                                                                                          |
| Relations   | Relations | object[] | false | (possibly empty) list of related producers, each object has the following members: "id", integer, producer ID, "relation", string, relation to the current producer, "name", string, "original", string, can be null                                          |

# Character

| Property      | Flag      |      Type       | null? | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| :------------ | :-------- | :-------------: | :---: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Id            | -         |       int       | false | Character ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Name          | Basic     |     string      | false | (romaji) name                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Original      | Basic     |     string      | true  | Original (kana/kanji) name                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Gender        | Basic     |     string      | true  | Character's sex (not gender); "m" (male), "f" (female) or "b" (both)                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Spoil_gender  | Basic     |     string      | true  | Actual sex, if this is a spoiler. Can also be "unknown" if their actual sex is not known but different from their apparent sex.                                                                                                                                                                                                                                                                                                                                                       |
| Bloodt        | Basic     |     string      | true  | Blood type, "a", "b", "ab" or "o"                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Birthday      | Basic     |      array      | false | Array of two numbers: day of the month (1-31) and the month (1-12). Either can be null.                                                                                                                                                                                                                                                                                                                                                                                               |
| Aliases       | Details   |     string      | true  | Alternative names, separated with a newline.                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Description   | Details   |     string      | true  | Description/notes, can contain formatting codes as described in d9#3. May also include [spoiler] tags!                                                                                                                                                                                                                                                                                                                                                                                |
| Age           | Details   |       int       | true  | years                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Image         | Details   |     string      | true  | HTTP link to the character image.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ImageFlagging | Details   |     object      | true  | Image flagging summary, see the similar "image_flagging" field of "get vn".                                                                                                                                                                                                                                                                                                                                                                                                           |
| Bust          | Meas      |       int       | true  | cm                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Waist         | Meas      |       int       | true  | cm                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Hip           | Meas      |       int       | true  | cm                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Height        | Meas      |       int       | true  | cm                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Weight        | Meas      |       int       | true  | kg                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Cup_size      | Meas      |     string      | true  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Traits        | Traits    | array of arrays | false | (Possibly empty) list of traits linked to this character. Each trait is represented as an array of two elements: The trait id (integer) and the spoiler level (integer, 0-2). General information for each trait is available in the traits dump.                                                                                                                                                                                                                                     |
| Vns           | Vns       | array of arrays | false | List of VNs linked to this character. Each VN is an array of 4 elements: VN id, release ID (0 = "all releases"), spoiler level (0-2) and the role (string). Available roles: "main", "primary", "side" and "appears".                                                                                                                                                                                                                                                                 |
| Voiced        | Voiced    |    object[]     | false | List of voice actresses (staff) that voiced this character, per VN. Each staff/VN is represented as a object with the following members: "id", integer, staff ID "aid", integer, the staff alias ID being used "vid", integer, VN id "note", string The same voice actor may be listed multiple times if this entry is character to multiple visual novels. Similarly, the same visual novel may be listed multiple times if this character has multiple voice actors in the same VN. |
| Instances     | Instances |    object[]     | false | List of instances of this character (excluding the character entry itself). Each instance is represented as an object with the following members: "id", integer, character ID "spoiler", integer, 0=none, 1=minor, 2=major "name", string, character name "original", string, character's original name.                                                                                                                                                                              |

# Staff

| Property    | Flag    |      Type       | null? | Description                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| :---------- | :------ | :-------------: | :---: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Id          | -       |       int       | false | Staff ID                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Name        | Basic   |     string      | false | Primary (romaji) staff name                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Original    | Basic   |     string      | true  | Primary original name                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Gender      | Basic   |     string      | true  |                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Language    | Basic   |     string      | false | Primary language                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Links       | Details |     object      | false | External links, object has the following members: "homepage", official homepage,"wikipedia", string, name of the related article on the English Wikipedia (deprecated, use wikidata instead). "twitter", name of the twitter account. "anidb", AniDB creator ID. "pixiv", integer, id of the pixiv account. "wikidata", string, Wikidata identifier.All values can be null.                                                                  |
| Description | Details |     string      | true  | Description/notes of the staff, can contain formatting codes as described in d9#3                                                                                                                                                                                                                                                                                                                                                            |
| Aliases     | Aliases | array of arrays | false | List of names and aliases. Each name is represented as an array with the following elements: Alias ID, name (romaji) and the original name. This list also includes the "primary" name.                                                                                                                                                                                                                                                      |
| Main_alias  | Aliases |       int       | false | ID of the alias that is the "primary" name of the entry                                                                                                                                                                                                                                                                                                                                                                                      |
| Vns         | Vns     |    object[]     | false | List of visual novels that this staff entry has been credited in (excluding character voicing). Each vn is represented as an object with the following members: "id", integer, visual novel id "aid", integer, alias ID of this staff entry "role", string "note", string, may be null if unset The same VN entry may appear multiple times if the staff has been credited for multiple roles.                                               |
| Voiced      | Voiced  |    object[]     | false | List of characters that this staff entry has voiced. Each object has the following members: "id", integer, visual novel id "aid", integer, alias ID of this staff entry "cid", integer, character ID "note", string, may be null if unset The same VN entry may appear multiple times if the staff has been credited for multiple characters. Similarly, the same character may appear multiple times if it has been linked to multiple VNs. |

# Review

| Property | Flag   |   Type   | null? | Description                                                                                                                        |
| :------- | :----- | :------: | :---: | :--------------------------------------------------------------------------------------------------------------------------------- |
| Uid      | Basic  |   int    | false | User ID                                                                                                                            |
| Vn       | Basic  |   int    | false | Visual Novel ID                                                                                                                    |
| Added    | Basic  |   int    | false | Unix timestamp of when this item has been added.                                                                                   |
| Lastmod  | Basic  |   int    | false | Unix timestamp of when this item has been added.                                                                                   |
| Voted    | Basic  |   int    | true  | Unix timestamp when the vote has been cast.                                                                                        |
| Vote     | Basic  |   int    | true  | Vote between 10 and 100.                                                                                                           |
| Notes    | Basic  |  string  | true  |                                                                                                                                    |
| Started  | Basic  |  string  | true  | YYYY-MM-DD                                                                                                                         |
| Finished | Basic  |  string  | true  | YYYY-MM-DD                                                                                                                         |
| Labels   | Labels | object[] | false | List of labels assigned to this VN entry, each object has the following fields:"id", integer, label ID"label", string, label name. |

# Tag

| Property    |       Type        | null? | Description                                                                                                                         |
| :---------- | :---------------: | :---: | :---------------------------------------------------------------------------------------------------------------------------------- |
| Id          |        int        | false | Tag ID                                                                                                                              |
| Name        |      string       | false | Tag name                                                                                                                            |
| Description |      string       | false | Can include formatting codes as described in d9#3.                                                                                  |
| Meta        |       bool        | false | Whether this is a meta tag or not. This field only exists for backwards compatibility and is currently the inverse of "searchable". |
| Searchable  |       bool        | false | Whether it's possible to filter VNs by this tag.                                                                                    |
| Applicable  |       bool        | false | Whether this tag can be applied to VN entries.                                                                                      |
| Vns         |        int        | false | Number of tagged VNs (including child tags)                                                                                         |
| Cat         |      string       | false | Tag category/classification: "cont" for content, "ero" for sexual stuff, and "tech" for technical details.                          |
| Aliases     |     string[]      | false | (Possibly empty) list of alternative names.                                                                                         |
| Parents     | array of integers | false | List of parent tags (empty for root tags).                                                                                          |

# Trait

| Property    |   Type   | null? | Description                                                                                                                           |
| :---------- | :------: | :---: | :------------------------------------------------------------------------------------------------------------------------------------ |
| Id          |   int    | false | Trait ID                                                                                                                              |
| Name        |  string  | false | Trait name                                                                                                                            |
| Description |  string  | false | Can include formatting codes as described in d9#3.                                                                                    |
| Meta        |   bool   | false | Whether this is a meta trait or not. This field only exists for backwards compatibility and is currently the inverse of "searchable". |
| Searchable  |   bool   | false | Whether it's possible to filter characters by this trait.                                                                             |
| Applicable  |   bool   | false | Whether this trait can be applied to character entries.                                                                               |
| Chars       |   int    | false | Number of characters on which this trait and any child traits is used.                                                                |
| Aliases     | string[] | false | (Possibly empty) list of alternative names.                                                                                           |
